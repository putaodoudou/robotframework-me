*** Settings ***
Library           Selenium2Library
Library           requests
Library           json
Library           Collections
Library           RequestsLibrary
Library           BuiltIn
Library           DatabaseLibrary
Library           XML

*** Test Cases ***
get_new_trade_list
    ${url}    Set Variable    https://tmoses.ofashion.com.cn:8006/get_new_trade_list?no_check=true&start=0&count=20&seller_uid=97947&trade_status=1
    ${response}    requests.get    ${url}
    ${content}    to json    ${response.content}
    should be equal as numbers    ${response.status_code}    200
    should contain    ${content['original']}    status    #是否包含status这个字段
    should not be empty    ${content['original']['orders_info']}    #orders_info是否为空
    should be equal as numbers    ${content['original']['orders_info']['pending_count']}    0    #pending_count是否是0
    should be equal as strings    ${content['original']['status']}    success    #status是否是success

ger_usr_address
    ${url}    set variable    https://tmoses.ofashion.com.cn/get_user_address?div=3.0.0&login_uid=34350259&source=10&diu=mars_wxapp_6da5ab933aaba733bab1762b7ada08a6&channel=mars&nounce=59bfb19d0d42e&sign=30db47b9ea52205be89b17738fd5b989
    ${response}    requests.get    ${url}
    ${content}    to json    ${response.content}
    ${items}    Get dictionary Items    ${content}
    log    ${content}

get_new_trade_list2
    ${url}    set variable    https://tmoses.ofashion.com.cn:8006/get_new_trade_list?no_check=true&start=0&count=20&seller_uid=97947&trade_status=1
    ${response}    requests.get    ${url}
    ${content}    to json    ${response.content}
    ${items}    Get dictionary Items    ${content}
    log    ${content}
    should be equal as numbers    ${response.status_code}    200
    ${original}    Get From Dictionary    ${content}    original
    ${orders_info}    Get From Dictionary    ${original}    orders_info
    ${rejected_count}    Get From Dictionary    ${orders_info}    rejected_count
    Should Contain    ${orders_info}    total
    Should Be Equal As Integers    ${rejected_count}    775
    Should Not Be Empty    ${orders_info}
    ${is_logistics}    set variable    ${content['original']['is_logistics']}

get_activity_list
    ${url}    Set Variable    https://tmoses.ofashion.com.cn/get_activity_list?no_check=1&source=10
    ${response}    requests.get    ${url}
    Should Be Equal As Numbers    ${response.status_code}    200
    ${content}    To Json    ${response.content}
    ${itemes}    get dictionary items    ${content}
    log    ${content}
    should contain    ${content["original"]["status"]}    success
    should not be empty    ${content}
    log    ${content["original"]["data"][0]}
